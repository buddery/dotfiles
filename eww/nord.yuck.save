·•(defwidget powermenu_entry [label icon onclick]
    (box :orientation "v" :space-evenly false :class "default"
        (button :class "default" :onclick {onclick}
            (label :class "default" :text {icon})
        )
        (label :class "default" :text {label})
    )
)

(defwidget powermenu []
    (box :orientation "h" :space-evenly true :valign "center" :halign "center" :class "border"
        (powermenu_entry    :label "Power off" 
                            :icon "󰐥" 
                            :onclick "systemctl poweroff")
        (powermenu_entry    :label "Reboot" 
                            :icon "󰜉" 
                            :onclick "systemctl reboot")
        (powermenu_entry    :label "Lock" 
                            :icon "" 
                            :onclick "sleep 0.1 && gtklock & eww close powermenu &")

        (powermenu_entry    :label "Suspend" 
                            :icon "󰤄" 
                            :onclick "sleep 0.1 && gtklock & systemctl suspend & eww close powermenu &")
                                
        (powermenu_entry    :label "Sign out" 
                            :icon "󰗼" 
                            :onclick "hyprctl dispatch exit 0")

        (powermenu_entry    :label "Cancel" 
                            :icon "󰅖" 
                            :onclick "eww close powermenu")
            
    )
)


(defwindow powermenu
    :monitor 0
    :stacking "overlay"
    :geometry (geometry 
                    :anchor "center"
                    :width "100%"
                    :height "120%")
    :namespace "eww-blur"
    (powermenu)
)
